export const relationshipManager={
  relationships:[],
  init(){
    this.loadSavedRelationships();
  },
  createRelationship(sourceId, targetId, sourceCardinality, targetCardinality, name){
    const relationship={
      id: Date.now().toString(),
      sourceId: sourceId,
      targetId: targetId,
      sourceCardinality: sourceCardinality,
      targetCardinality: targetCardinality,
      name: name
    };
    this.relationships.push(relationship);
    this.saveRelationships();
    return relationship;
  },
  updateRelationship(relationshipId, sourceCardinality, targetCardinality, name){
    const relationship = this.relationships.find(r => r.id === relationshipId);
    if(relationship){
      relationship.sourceCardinality = sourceCardinality;
      relationship.targetCardinality = targetCardinality;
      relationship.name = name;
      this.saveRelationships();
    }
  },
  deleteRelationship(relationshipId){
    this.relationships = this.relationships.filter(r => r.id !== relationshipId);
    this.saveRelationships();
  },
  saveRelationships(){
    localStorage.setItem("relationships", JSON.stringify(this.relationships));
  },
  loadSavedRelationships(){
    const savedRelationships = localStorage.getItem("relationships");
    if(savedRelationships){
      this.relationships = JSON.parse(savedRelationships);
    }
  }
}; 